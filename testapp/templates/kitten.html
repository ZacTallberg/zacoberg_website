{% extends "base.html" %}

{% load static %} 

{% load bootstrap4 %}

{% block content %}
<div class="row align-items-center"></div>
               
                        <div class="d-flex justify-content-center">
                            <button class="btn btn-primary" id="jsstyle" onclick="display_random_image();">
                            KITTEN
                        </button>
                        </div>
                    
    
                    <div class="container">
                            <div class="row imagetiles">
                                
                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
                                        
                                </div>
                            </div>
                        </div>
                       
</div>

{% endblock %}

{% block scripts %}
<script type="text/javascript">
function display_random_image() 
{
    
        // create random image number
        function getRandomImage(min,max) 
        {
        //  return Math.floor(Math.random() * (max - min + 1)) + min;
    
        imn = Math.floor(Math.random() * (max - min + 1)) + min;
        return preBuffer[imn];
        }  

        // 0 is first image,   preBuffer.length - 1) is  last image
  
        var newImage = getRandomImage(0, preBuffer.length - 1);
 
        // remove the previous images
        var images = document.getElementsByTagName('img');
        var l = images.length;
        for (var p = 0; p < l; p++) {
         images[0].parentNode.removeChild(images[0]);
        }

        
        // display the image  
        
        document.body.appendChild(newImage);

        newImage.onload = function () 
        {
            var imageWidth = newImage.offsetWidth,
                imageHeight = newImage.offsetHeight;
                console.log(imageWidth, imageHeight);

                if(imageWidth > imageHeight)
                {
                    vpWidth = document.documentElement.clientWidth,
                    vpHeight = document.documentElement.clientHeight
                }
                else{
                    vpWidth = document.documentElement.clientWidth,
                    vpHeight = document.documentElement.clientHeight + 400
                }
                

            this.style.position = 'absolute'
            this.style.left = (vpWidth - imageWidth)/2 + 'px';   
            this.style.top = (vpHeight - imageHeight)/2 + window.pageYOffset + 'px';
        }    
} 
</script>
{% endblock %}